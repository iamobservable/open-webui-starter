# –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –æ—Ç—á–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ RAG —Å–∏—Å—Ç–µ–º—ã ERNI-KI

**–î–∞—Ç–∞:** 2025-10-30  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 09:00 - 09:40 CET  
**–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è:** 5-—Ñ–∞–∑–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å Context7 –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∑–Ω–∞–Ω–∏–π

---

## üìã –†–µ–∑—é–º–µ

**–°—Ç–∞—Ç—É—Å RAG —Å–∏—Å—Ç–µ–º—ã:** ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–ê**

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã RAG (Retrieval-Augmented Generation) —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
–£—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenWebUI-SearXNG —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º 3 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∑–∞
~25 —Å–µ–∫—É–Ω–¥ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ RAG.

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**

- ‚úÖ –í—Å–µ RAG-—Å–µ—Ä–≤–∏—Å—ã: **healthy**
- ‚úÖ SearXNG response time: **0.78s** (—Ü–µ–ª—å: <2s)
- ‚úÖ –ü–æ–ª–Ω—ã–π RAG —Ü–∏–∫–ª: **~25s** (–ø–æ–∏—Å–∫ + –æ–±—Ä–∞–±–æ—Ç–∫–∞ + –≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
- ‚úÖ –í–µ–±-–ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ OpenWebUI: **—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω**
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: **3** (—Ü–µ–ª—å: 3-6)
- ‚úÖ –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: **pgvector 0.8.1** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ Embeddings: **768 –∏–∑–º–µ—Ä–µ–Ω–∏–π** (nomic-embed-text:latest)

---

## üîç –§–∞–∑–∞ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π (Context7)

### –ü–æ–ª—É—á–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

1. **OpenWebUI** (`/open-webui/docs`)
   - 668 code snippets
   - RAG –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SearXNG, Ollama embeddings
   - Hybrid search –∏ reranking

2. **SearXNG** (`/websites/searxng`)
   - 2616 code snippets
   - –ü–æ–∏—Å–∫–æ–≤—ã–µ –¥–≤–∏–∂–∫–∏, API endpoints
   - Rate limiting, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
   - Bot detection –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

3. **pgvector** (`/pgvector/pgvector`)
   - 128 code snippets
   - –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è PostgreSQL
   - HNSW –∏ IVFFlat –∏–Ω–¥–µ–∫—Å—ã
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

4. **Ollama** (`/websites/ollama`)
   - 255 code snippets
   - Embedding –º–æ–¥–µ–ª–∏
   - API –¥–ª—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 15 –º–∏–Ω—É—Ç  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üìä –§–∞–∑–∞ 2: –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 2.1 OpenWebUI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`env/openwebui.env`)

**RAG –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

```bash
# –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
VECTOR_DB=pgvector
DATABASE_URL=postgresql://postgres:***@db:5432/openwebui
PGVECTOR_INITIALIZE_MAX_VECTOR_LENGTH=768

# Embedding –º–æ–¥–µ–ª—å
RAG_EMBEDDING_ENGINE=ollama
RAG_EMBEDDING_MODEL=nomic-embed-text:latest
RAG_EMBEDDING_BATCH_SIZE=4

# Chunking —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
RAG_TEXT_SPLITTER=token
CHUNK_SIZE=1500
CHUNK_OVERLAP=200

# –ü–æ–∏—Å–∫ –∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ
RAG_TOP_K=8
RAG_RELEVANCE_THRESHOLD=0.6
ENABLE_RAG_HYBRID_SEARCH=true
RAG_ENABLE_RERANKING=true

# –í–µ–±-–ø–æ–∏—Å–∫
ENABLE_WEB_SEARCH=true
ENABLE_RAG_WEB_SEARCH=true
WEB_SEARCH_ENGINE=searxng
SEARXNG_QUERY_URL=http://nginx:8080/api/searxng/search?q=<query>&format=json
WEB_SEARCH_RESULT_COUNT=3
WEB_SEARCH_CONCURRENT_REQUESTS=5
WEB_SEARCH_TIMEOUT=10
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è production

### 2.2 SearXNG –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (`env/searxng.env`):**

```bash
SEARXNG_VALKEY_URL=redis://:***@redis:6379/0
SEARXNG_LIMITER=true
SEARXNG_REQUEST_TIMEOUT=4.0
SEARXNG_MAX_REQUEST_TIMEOUT=8.0
SEARXNG_CACHE_RESULTS=true
SEARXNG_CACHE_TTL=300
```

**–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ –¥–≤–∏–∂–∫–∏ (`conf/searxng/settings.yml`):**

- Google (weight: 1.5, timeout: 3.5s)
- Wikipedia (weight: 1.2, timeout: 4.0s)
- Bing (timeout: 4.0s)
- DuckDuckGo
- Startpage (timeout: 8.0s)
- Brave

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### 2.3 Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**SearXNG upstream:**

```nginx
upstream searxngUpstream {
  server searxng:8080 max_fails=3 fail_timeout=30s weight=1;
  keepalive 48;
  keepalive_requests 200;
  keepalive_timeout 60s;
}
```

**Rate limiting:**

```nginx
limit_req_zone $binary_remote_addr zone=searxng_api:10m rate=60r/s;
limit_req zone=searxng_api burst=30 nodelay;
```

**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**

```nginx
proxy_cache searxng_cache;
proxy_cache_valid 200 5m;
proxy_cache_lock on;
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ Production-ready –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π

### 2.4 Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤:**

```yaml
openwebui:
  depends_on:
    - db (PostgreSQL —Å pgvector)
    - ollama (embeddings)
    - redis (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
    - litellm (API gateway)

searxng:
  depends_on:
    - redis (rate limiting, –∫—ç—à)
```

**–†–µ—Å—É—Ä—Å—ã:**

- OpenWebUI: GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ (NVIDIA)
- Ollama: 4GB VRAM limit
- SearXNG: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

## üß™ –§–∞–∑–∞ 3: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 3.1 –°—Ç–∞—Ç—É—Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

| –°–µ—Ä–≤–∏—Å          | –°—Ç–∞—Ç—É—Å  | Uptime  | Health  |
| --------------- | ------- | ------- | ------- |
| db (PostgreSQL) | running | 4 weeks | healthy |
| openwebui       | running | 1 hour  | healthy |
| ollama          | running | 1 hour  | healthy |
| searxng         | running | 1 hour  | healthy |
| redis           | running | 1 hour  | healthy |
| nginx           | running | 1 hour  | healthy |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í—Å–µ RAG-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Å—Ç–∞—Ç—É—Å–µ healthy

### 3.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SearXNG API

**–õ–æ–∫–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç:**

```bash
curl http://nginx:8080/api/searxng/search?q=test&format=json
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

- Response time: **0.78s** ‚úÖ (—Ü–µ–ª—å: <2s)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: **180,000**
- –ê–∫—Ç–∏–≤–Ω—ã–µ –¥–≤–∏–∂–∫–∏: 6 (Google, Wikipedia, Bing, DuckDuckGo, Startpage, Brave)
- –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞: JSON ‚úÖ
- HTTP —Å—Ç–∞—Ç—É—Å: 200 ‚úÖ

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**

```json
{
  "query": "test",
  "number_of_results": 180000,
  "results": [
    {
      "url": "https://www.speedtest.net/",
      "title": "Speedtest by Ookla",
      "engines": ["duckduckgo", "startpage", "brave"],
      "score": 9.0
    },
    ...
  ]
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ SearXNG API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω

### 3.3 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ PostgreSQL —Å pgvector

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ pgvector:**

```sql
SELECT extname, extversion FROM pg_extension WHERE extname = 'vector';
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** vector | 0.8.1 ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞:**

```sql
SELECT typname FROM pg_type WHERE typname = 'vector';
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** vector | public ‚úÖ

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü:**

- `document` - 0 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `document_chunk` - 29 —á–∞–Ω–∫–æ–≤
- `knowledge` - –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
- `document_chunk_backup_20251024` - —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ pgvector —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω

### 3.4 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Ollama Embeddings

**–¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ embeddings:**

```bash
curl -X POST http://ollama:11434/api/embeddings \
  -d '{"model":"nomic-embed-text:latest","prompt":"test"}'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

- –ú–æ–¥–µ–ª—å: nomic-embed-text:latest ‚úÖ
- –†–∞–∑–º–µ—Ä: 274 MB
- –ò–∑–º–µ—Ä–µ–Ω–∏—è: **768** ‚úÖ (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç PGVECTOR_INITIALIZE_MAX_VECTOR_LENGTH)
- Response time: <1s ‚úÖ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Ollama embeddings —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**Health check:**

```bash

```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `{"status": "ok"}` ‚úÖ

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

- OCR Engine: EasyOCR
- –Ø–∑—ã–∫–∏: en, de, fr, it
- Max file size: 100MB
- Timeout: 600s
- Workers: 4

### 3.6 –ë—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Playwright)

**–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å:** "What is the current weather in Zurich?"

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

1. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:** https://ki.erni-gruppe.ch ‚úÖ
2. **Web Search –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω:** ‚úÖ
3. **–ü–æ–∏—Å–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω:** 3 —Å–∞–π—Ç–∞ –Ω–∞–π–¥–µ–Ω–æ ‚úÖ
4. **–ò—Å—Ç–æ—á–Ω–∏–∫–∏:**
   - AccuWeather
   - Weather Underground
   - Weather.com
5. **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
   - Searching: ~10s
   - Querying: ~15s
   - **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: ~25s** ‚úÖ
6. **–ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞:** –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–≥–æ–¥–µ —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π,
   –≤–ª–∞–∂–Ω–æ—Å—Ç—å—é, –ø—Ä–æ–≥–Ω–æ–∑–æ–º ‚úÖ

**–°–∫—Ä–∏–Ω—à–æ—Ç:** `rag-web-search-test-success.png` —Å–æ—Ö—Ä–∞–Ω–µ–Ω

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü–æ–ª–Ω—ã–π RAG —Ü–∏–∫–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 3.7 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:** | –°–µ—Ä–≤–∏—Å | CPU | Memory | |--------|-----|--------|
| openwebui | 0.13% | 2.24 GB | | ollama | 0.61% | 2.83 GB | | searxng | 0.00% |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

---

## üîß –§–∞–∑–∞ 4: –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å RAG —Ü–∏–∫–ª–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°—Ä–µ–¥–Ω–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª–Ω—ã–π RAG —Ü–∏–∫–ª –∑–∞–Ω–∏–º–∞–µ—Ç ~25s (—Ü–µ–ª—å: <5s)

**–ü—Ä–∏—á–∏–Ω—ã:**

- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞: –ø–æ–∏—Å–∫ ‚Üí –æ–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- –°–µ—Ç–µ–≤—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ LLM –æ—Ç–≤–µ—Ç–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

1. –í–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å streaming –¥–ª—è —Ä–∞–Ω–Ω–µ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
4. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-4 —á–∞—Å–∞

#### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –±–∞–∑–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–∏–∑–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í —Ç–∞–±–ª–∏—Ü–µ `document` 0 –∑–∞–ø–∏—Å–µ–π (—Ç–æ–ª—å–∫–æ 29 —á–∞–Ω–∫–æ–≤)

**–ü—Ä–∏—á–∏–Ω—ã:**

- –°–∏—Å—Ç–µ–º–∞ —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–ø—É—â–µ–Ω–∞ –∏–ª–∏ –æ—á–∏—â–µ–Ω–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

1. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ RAG
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
3. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1-2 —á–∞—Å–∞

#### 3. Cloudflare Tunnel –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–∏–∑–∫–∏–π  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ "datagram manager encountered a failure"

**–ü—Ä–∏—á–∏–Ω—ã:**

- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

1. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –æ—à–∏–±–æ–∫
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞
3. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–æ–≤

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 30 –º–∏–Ω—É—Ç

### –ù–µ –≤—ã—è–≤–ª–µ–Ω–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º ‚úÖ

---

## üìà –§–∞–∑–∞ 5: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (1-2 –¥–Ω—è)

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ RAG**
   - –í–∫–ª—é—á–∏—Ç—å streaming –æ—Ç–≤–µ—Ç–æ–≤
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ 10-15s

2. **–ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π**
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
   - –°–æ–∑–¥–∞—Ç—å FAQ –±–∞–∑—É
   - –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Prometheus –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è RAG
   - –°–æ–∑–¥–∞—Ç—å Grafana –¥–∞—à–±–æ—Ä–¥
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)

1. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π**
   - –î–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ –¥–≤–∏–∂–∫–∏
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —è–∑—ã–∫–∞–º
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HNSW –∏–Ω–¥–µ–∫—Å—ã –≤ pgvector
   - –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ chunking
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ embedding –º–æ–¥–µ–ª–∏
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –£–ª—É—á—à–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞

3. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
   - –°–æ–∑–¥–∞—Ç—å E2E —Ç–µ—Å—Ç—ã –¥–ª—è RAG
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (1+ –º–µ—Å—è—Ü)

1. **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–π RAG**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - –ê—É–¥–∏–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

2. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**
   - User-specific knowledge bases
   - –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –£–ª—É—á—à–µ–Ω–Ω—ã–π UX

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ - –ü—Ä–æ–≤–µ—Ä–∫–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π              | –¶–µ–ª—å     | –§–∞–∫—Ç            | –°—Ç–∞—Ç—É—Å |
| --------------------- | -------- | --------------- | ------ |
| RAG-—Å–µ—Ä–≤–∏—Å—ã healthy   | –í—Å–µ      | –í—Å–µ (7/7)       | ‚úÖ     |
| SearXNG response time | <2s      | 0.78s           | ‚úÖ     |
| –ü–æ–ª–Ω—ã–π RAG —Ü–∏–∫–ª       | <5s      | ~25s            | ‚ö†Ô∏è     |
| –í–µ–±-–ø–æ–∏—Å–∫ OpenWebUI   | –†–∞–±–æ—Ç–∞–µ—Ç | –†–∞–±–æ—Ç–∞–µ—Ç        | ‚úÖ     |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤  | –†–∞–±–æ—Ç–∞–µ—Ç | –†–∞–±–æ—Ç–∞–µ—Ç        | ‚úÖ     |
| –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö        | –ù–µ—Ç      | –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö | ‚úÖ     |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ | 3-6      | 3               | ‚úÖ     |
| pgvector —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω   | –î–∞       | v0.8.1          | ‚úÖ     |
| Embeddings —Ä–∞–±–æ—Ç–∞—é—Ç   | –î–∞       | 768 dim         | ‚úÖ     |

**–û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 8/9 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ ‚úÖ  
**–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ:** –í—Ä–µ–º—è –ø–æ–ª–Ω–æ–≥–æ RAG —Ü–∏–∫–ª–∞ (—Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

RAG —Å–∏—Å—Ç–µ–º–∞ ERNI-KI –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ **–æ—Ç–ª–∏—á–Ω–æ–º —Ä–∞–±–æ—á–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏**. –í—Å–µ –∫–ª—é—á–µ–≤—ã–µ
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

‚úÖ **–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**

- –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –ë—ã—Å—Ç—Ä—ã–π –≤–µ–±-–ø–æ–∏—Å–∫ (0.78s)
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenWebUI-SearXNG
- –ù–∞–¥–µ–∂–Ω–∞—è –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- Production-ready –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

‚ö†Ô∏è **–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**

- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–ª–Ω–æ–≥–æ RAG —Ü–∏–∫–ª–∞
- –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –ø–ª–∞–Ω–æ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

---

**–ü–æ–¥–≥–æ—Ç–æ–≤–∏–ª:** Augment Agent  
**–î–∞—Ç–∞:** 2025-10-30  
**–í–µ—Ä—Å–∏—è:** 1.0
