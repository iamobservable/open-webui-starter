# üìã Checklist: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Docker-–æ–±—Ä–∞–∑–æ–≤ ERNI-KI

–≠—Ç–æ—Ç —á–µ–∫–ª–∏—Å—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª—é–±—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤ –±–µ–∑
–≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ –ø–ª–∞–≤—É—á–∏–º —Ç–µ–≥–∞–º `latest`.

1. **–í—ã–±–æ—Ä —Ä–µ–ª–∏–∑–∞**
   - –ù–∞–π–¥–∏—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–≥ –∏–ª–∏ SHA256 digest (–≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö ‚Äì
     `docker pull IMAGE@digest`).
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ changelog/—Ä–µ–ª–∏–∑, –≥–¥–µ –æ–ø–∏—Å–∞–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è.

2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
   - –í `compose.yml` –∏ `compose.yml.example` –∑–∞–º–µ–Ω–∏—Ç–µ —Ç–µ–≥ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π.
   - –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (service-inventory, monitoring-guide, architecture, –∏
     –¥—Ä.) —á—Ç–æ–±—ã —Ç–µ–≥–∏ —Å–æ–≤–ø–∞–¥–∞–ª–∏ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.
   - –ï—Å–ª–∏ –æ–±—Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Docker secrets/entrypoint, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤
     `docs/` —Ç–æ–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã.

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - `docker compose pull SERVICE && docker compose up -d SERVICE` (–∏–ª–∏
     `--no-deps`).
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ healthchecks –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
     ```bash
     docker compose ps SERVICE
     docker compose logs SERVICE --tail=50
     ```
   - –î–ª—è —ç–∫—Å–ø–æ—Ä—Ç—ë—Ä–æ–≤: `curl -s http://localhost:<port>/metrics | head`.

4. **Watchtower**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º (`watchtower.enable=true`)
     —É–∫–∞–∑–∞–Ω –Ω–æ–≤—ã–π —Ç–µ–≥. Watchtower –ø–æ–¥—Ç—è–Ω–µ—Ç –µ–≥–æ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Ü–∏–∫–ª–µ.
   - –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (nginx, db) –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è –≤—ã–∫–ª—é—á–µ–Ω–Ω—ã–º.

5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–µ–ª–∏–∑–∞**
   - –í `CHANGELOG.md`/—Ä–µ–ª–∏–∑–Ω—ã—Ö –∑–∞–º–µ—Ç–∫–∞—Ö –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—ã.
   - –î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ—Ç–∫–∞—Ç—É (–ø—Ä–µ–¥—ã–¥—É—â–∏–π digest) –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

6. **–í–∞–ª–∏–¥–∞—Ü–∏—è**
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ `docker compose config` –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç
     —Ç–æ–ª—å–∫–æ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ —Ç–µ–≥–∏.
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ `rg ':latest'` ‚Äì –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω–æ –æ—Å—Ç–∞—Ç—å—Å—è —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ
     –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö –æ–±—Ä–∞–∑–∞—Ö —Å —ç—Ç–∏–º —Ç–µ–≥–æ–º.

–°–æ–±–ª—é–¥–µ–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ Watchtower –Ω–µ –ø–æ–¥—Ç—è–Ω–µ—Ç –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Ä–µ–ª–∏–∑—ã
–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç –æ—Ç–∫–∞—Ç—ã –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏.
